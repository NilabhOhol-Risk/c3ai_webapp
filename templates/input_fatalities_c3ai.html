
<!DOCTYPE html>
<html lang="en">
<style>
.loader {
  border: 16px solid #f3f3f3; /* Light grey */
  border-top: 16px solid #3498db; /* Blue */
  border-radius: 50%;
  width:5px;
  height:5px;
  border-width:.2em;
  animation: spin 2s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.container img {
  mix-blend-mode: darken;
}
.card-footermod {
  /* position: fixed; */
  bottom: 0;
  color: black;
  mix-blend-mode: darken;
  background: linear-gradient(
    to bottom,
    #EAEDED,
    #EAEDED 50%,
    #F8F9F9 50%,
    #F8F9F9
  );
  background-size: 100% 20px;
  padding: 0.75rem 1.25rem;

  border-top: 2px solid rgba(0, 0, 0, 0.125);
}
body{
  /* color: white;
  background: linear-gradient(
    to bottom,
    #F2F3F4,
    #F2F3F4 10%,
    #D5DBDB 60%,
    #D5DBDB
  );
  background-size: 100% 3px; */
  background-image: url('https://cc19lp-cosmos.uta.edu/us.svg') ;
  background-position: center;
  background-repeat: repeat;
  background-size: contain;
  background-blend-mode: multiply;

}

/* Tooltip container */
.popup {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black; /* If you want dots under the hoverable text */
}

/* Tooltip text */
.popup .popuptext {
  visibility: hidden;
  width: 200px;
  background-color: #555;
  color: #fff;
  text-align: center;
  padding: 5px 0;
  border-radius: 6px;

  /* Position the tooltip text */
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 0%;
  margin-left: -70px;

  /* Fade in tooltip */
  opacity: 0;
  transition: opacity 0.3s;
}

/* Tooltip arrow */
.popup .popuptext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

/* Show the tooltip text when you mouse over the tooltip container */
.popup:hover .popuptext {
  visibility: visible;
  opacity: 1;
}

/* Popup container */
.popupclick {
  position: relative;
  display: inline-block;
  cursor: pointer;
  border-bottom: 1px dotted black;
}

/* The actual popup (appears on top) */
.popupclick .popupclicktext {
  visibility: hidden;
  width: 160px;
  background-color: #555;
  color: #fff;
  text-align: center;
  border-radius: 6px;
  padding: 8px 0;
  position: absolute;
  z-index: 1;
  bottom: 125%;
  left: 50%;
  margin-left: -80px;
}

/* Popup arrow */
.popupclick .popupclicktext::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 50%;
  margin-left: -5px;
  border-width: 5px;
  border-style: solid;
  border-color: #555 transparent transparent transparent;
}

/* Toggle this class when clicking on the popup container (hide and show the popup) */
.popupclick .show {
  visibility: visible;
  -webkit-animation: fadeIn 1s;
  animation: fadeIn 1s
}

/* Add animation (fade in the popup) */
@-webkit-keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity:1 ;}
}
/* h1 {
  background-color: powderblue;
  border-top: 2px solid rgba(0, 0, 0, 0.125);
}

div {
  background-color: powderblue;
  /* border-top: 2px solid rgba(0, 0, 0, 0.125); */
}



.stripe-1 {
  color: white;
  background: repeating-linear-gradient(
    45deg,
    #606dbc,
    #606dbc 10px,
    #465298 10px,
    #465298 20px
  );
}

.stripe-5 {
  background-color: #D1CDFF;
  background-size: 100% 20px;
}

</style>
<style>
		table, th, td {
    	border: 1px solid black;
      padding: 10px;
		}
</style>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>{{title}}</title>

  <!-- Bootstrap core CSS -->
  <link href="https://cc19lp-cosmos.uta.edu/20200518/static/css/bootstrap.min.css" rel="stylesheet">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="starter-template.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="../../assets/js/ie-emulation-modes-warning.js"></script>
  <script src="https://cc19lp-cosmos.uta.edu/20200518/static/js/bootstrap.js"></script>
  <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>-->
  <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>-->
  <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

  <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script> 
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="{{ url_for('main_c3ai') }}">COSMOS COVID-19 Linear Programming (CC19LP)</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="{{ url_for('main_c3ai') }}">Home</a></li>
            <li><a href="{{ url_for('testing_popatrisk') }}">Input</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

  <div class="container">

      <div class="starter-template">
        <p><ul>
          <li style="text-align: justify">Step 1: Select State and County to study key contact group.  Run Census data pull.</li>
          <li style="text-align: justify">Step 2: Review estimated COVID-19 key contact group based on Census data.</li>
          <li style="text-align: justify"> <b>Step 3: Enter requested COVID-19 data. Run CC19LP.</b></li>
          <li style="text-align: justify">Step 4: Review Expected daily fatality rates at various Normalcy levels. Select Normalcy level.</li>
          <li style="text-align: justify">Step 5: Review CC19LP results for selected Normalcy level to see breakdown of COVID-19 interventions by key contact type.</li>
        </ul></p>
        <h2>Step 3: Enter requested COVID-19 data. Run <div class="popup">CC19LP<span class="popuptext" style="font-size:13px">COSMOS COVID-19 Linear Programming</span></div>.</h2>
        
        First, select dates to calculate a target level for the <div class="popup">average daily fatality rate <span class="popuptext" style="font-size:13px">The target is to maintain this lowest rate while reopening communities.</span></div> in {{county_selected}}, {{state_selected}}.  
        Typically, the lowest <div class="popup">average daily fatality rate <span class="popuptext" style="font-size:13px">The target is to maintain this lowest rate while reopening communities.</span></div> occurred following mandated lockdowns.
        <br>
        Next CC19LP input parameters are calculated from the entered data:
        <ul>
          <li style="text-align: justify">The <div class="popup"> number of reported COVID-19 cases <span class="popuptext" style="font-size:13px">It is assumed that 85% of these cases quarantine, leaving 15% of these continuing to spread the virus.  It is also assumed that for each known reported case, there are unknown COVID-19 cases that do not quarantine and continue to spread the virus.</span></div> in {{county_selected}}, {{state_selected}} over a selected 3-week time period.  This impacts the number of contagious individuals spreading the virus.</li>
          <li style="text-align: justify">The hypothetical  supply of <div class="popup"> COVID-19 PCR testing kits <span class="popuptext" style="font-size:13px">It is assumed that COVID-19 Testing has a 30% false negative rate.</span></div> per day.</li>
          <li style="text-align: justify">The hypothetical  supply of <div class="popup"> PPE <span class="popuptext" style="font-size:13px">It is assumed that PPE, if worn properly, reduces transmission probability by 95%, but compliance with wearing PPE is assumed to be 75% for those living in crowding and 95% for others.</span></div> available per day.</li>
          <li style="text-align: justify">The hypothetical supply of  <div class="popup"> vaccines <span class="popuptext" style="font-size:13px">It is assumed that vaccination reduces transmission probability by 90%.</span></div> available per day.</li>
        </ul>
        <p>COVID-19 data are pulled from Johns Hopkins data sources via the <a href="https://c3.ai/products/c3-ai-covid-19-data-lake/" target="_blank">C3 AI COVID-19 Data Lake</a>.</p>
      </div>

      <div class = "container">
           <h4>Input COVID-19 Fatalities</h4>
        <form  action="/20200518/c3ai/input/results/?route1=main&arg1=output&county_selected={{county_selected}}&state_selected={{state_selected}}&population={{population}}&key_contacts_5_17_L1={{key_contacts_5_17_L1}}&key_contacts_18_64_L1={{key_contacts_18_64_L1}}&key_contacts_H1={{key_contacts_H1}}&key_contacts_H2={{key_contacts_H2}}&number_sheltered_high_risk={{number_sheltered_high_risk}}&key_contact_total={{key_contact_total}}&percent_key_contact_total={{percent_key_contact_total}}" method="POST" onsubmit="return spinner_function()">
          <div class="starter-template">
                <p><b>Review the plot of actual daily COVID-19 fatalities in {{county_selected}}, {{state_selected}}. Hover the mouse over the upper right corner to see options for manipulating the plot view.</b></p>
                <p><b>Examples: (a) Choose a low fatality period.  (b) Choose a benchmark fatality period.</b></p>
          </div>
          <br>
          <!-- <p>{{fig_fatality_div}}</p> -->
          {% block body %}

          {{ fig_fatality_div|indent(4)|safe }}

          {% endblock %}
          <br>
          <p><b>Select a time period to calculate a target average daily rate of COVID-19 fatalities in {{county_selected}}, {{state_selected}}.</b></p>
          <br>
              <div class="form-group col-3">
                {{ form_date.date_field_cases_start.label(class="form-control-label") }}
                {% if form_date.date_field_cases_start.errors %}
                  {{ form_date.date_field_cases_start(class="form-control form-control is-invalid", oninput="fraction_contagious()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        Select a value
                    </small>
                  </div>
                  <div class="invalid-feedback">
                    {% for error in form_date.date_field_cases_start.errors %}
                      <span>{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form_date.date_field_cases_start(class="form-control form-control", oninput="fraction_contagious()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        Select a value
                    </small>
                  </div>
                {% endif %}
              </div>
    
              <div class="form-group col-3">
                {{ form_date.date_field_cases_end.label(class="form-control-label") }}
                {% if form_date.date_field_cases_end.errors %}
                  {{ form_date.date_field_cases_end(class="form-control form-control is-invalid", oninput="fraction_contagious()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        Select a value
                    </small>
                  </div>
                  <div class="invalid-feedback">
                    {% for error in form_date.date_field_cases_end.errors %}
                      <span>{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form_date.date_field_cases_end(class="form-control form-control", oninput="fraction_contagious()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        Select a value
                    </small>
                  </div>
                {% endif %}
              </div>
    
              <!-- <div class="form-group col-3">
                {{ form.num_fatalities_7.label(class="form-control-label") }}
                {% if form.num_fatalities_7.errors %}
                  {{ form.num_fatalities_7(class="form-control form-control is-invalid", function="daily_fatalities()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        e.g. 10
                    </small>
                  </div>
                  <div class="invalid-feedback">
                    {% for error in form.num_fatalities_7.errors %}
                      <span>{{ error }}</span>
                    {% endfor %}
                  </div>
                {% else %}
                  {{ form.num_fatalities_7(class="form-control form-control", oninput="daily_fatalities()") }}
                  <div class="border-top pt-1">
                    <small class="text-muted">
                        e.g. 10
                    </small>
                  </div>
                {% endif %}
              </div> -->
    
              <a href="/20200518/c3ai/input/results/?&arg_3=fatalities&county_selected={{county_selected}}&state_selected={{state_selected}}&population={{population}}&key_contacts_5_17_L1={{key_contacts_5_17_L1}}&key_contacts_18_64_L1={{key_contacts_18_64_L1}}&key_contacts_H1={{key_contacts_H1}}&key_contacts_H2={{key_contacts_H2}}&number_sheltered_high_risk={{number_sheltered_high_risk}}&key_contact_total={{key_contact_total}}&percent_key_contact_total={{percent_key_contact_total}}"
               onclick="location.href=this.href+'&end_date='+end_date.value+'&start_date='+start_date.value;return false;"><button type="button" class="btn btn-primary">Calculate</button></a>
    
              <!-- <a href="/schools"><button type="button" id="btnFetch" class="btn btn-primary">Calculate</button></a> -->
              <!-- <br> -->
              <!-- <div> -->
                <!-- The lowest average daily fatality rate for  {{county_selected}}, {{state_selected}} in May 2020: <b> <a id = "daily_fat" onopen="daily_fatalities()">{{avg_daily_fatalities}}</a> </b>. -->
                <!-- This represents the fatality rate achieved as a consequence of widespread lockdown.
                When viewing CC19LP solutions, the target should be  <b> <a id = "daily_fat2">{{num_fatalities_daily}}</a> </b> expected fatalities per day. -->
              <!-- </div> -->
    
              <br>
              <br>
    
              <h4>Input COVID-19 Reported Cases</h4>
              <p><b>Review the plot of actual daily reported COVID-19 cases in {{county_selected}}, {{state_selected}}.  Hover the mouse over the upper right corner to see options for manipulating the plot view.</b></p>
              <p><b>Examples: (a) Choose a period of reopening with moderate to high case counts.  (b) Choose a period preceding your fatality period for benchmarking</b></p>
              <br>
              
    
              {{ fig_cases_div|indent(4)|safe }}
    
              <div>
                <!--Based on reported known COVID-19 cases in the prior 3 weeks,-->
                <!--the table below shows the estimated number of individuals and-->
                <!--the corresponding percentage of the total population that is-->
                <!--contagious and not quarantining today in {{county_selected}}, {{state_selected}}.-->
                <p><b>Select the end date for a 3-week time period to count reported COVID-19 cases.  The most recent date with a reported case count is yesterdayâ€™s date.</b></p>
                 
                <!-- <b> Number of cases from API as of {{today}} - {{cases_from_api}}</b> -->
                
                <div class="form-group col-3">
                  {{ form_date.num_cases_3_weeks_date.label(class="form-control-label") }}
                  {% if form_date.num_cases_3_weeks_date.errors %}
                    {{ form_date.num_cases_3_weeks_date(class="form-control form-control is-invalid", function="fraction_contagious()") }}
                    <div class="border-top pt-1">
                      <small class="text-muted">
                          # of confirmed COVID-19 cases in the 3 weeks prior today
                      </small>
                    </div>
                    <div class="invalid-feedback">
                      {% for error in form_date.num_cases_3_weeks_date.errors %}
                        <span>{{ error }}</span>
                      {% endfor %}
                    </div>
                  {% else %}
                    {{ form_date.num_cases_3_weeks_date(class="form-control form-control", oninput="fraction_contagious()") }}
                    <div class="border-top pt-1">
                      <small class="text-muted">
                          # of confirmed COVID-19 cases in the 3 weeks prior today
                      </small>
                    </div>
                  {% endif %}
                </div>
    
              <!--  <a href="/20200518/c3ai/input/results/?&arg_4=cases&county_selected={{county_selected}}&state_selected={{state_selected}}&population={{population}}&key_contacts_5_17_L1={{key_contacts_5_17_L1}}&key_contacts_18_64_L1={{key_contacts_18_64_L1}}&key_contacts_H1={{key_contacts_H1}}&key_contacts_H2={{key_contacts_H2}}&number_sheltered_high_risk={{number_sheltered_high_risk}}&key_contact_total={{key_contact_total}}&percent_key_contact_total={{percent_key_contact_total}}"-->
              <!--      onclick="location.href=this.href+'&num_cases_date='+num_cases_date2;return false;"><button type="button" class="btn btn-primary">Calculate</button></a>-->
              <!--<br>-->
              
              <!-- <table align="center">
                              <tr>
                                <th>  </th>
                                <th colspan="5" align="center"> <div class="popup"><b>Ratio of Unknown to Known Cases</b> <span class="popuptext">A ratio of 4:1 means it is assumed there are 4 unknown COVID-19 cases for each known COVID-19 case</span></div></th>
                              </tr>
          										<tr>
           											<th>  </th>
            										<th> 5:1 </th>
                                <th> 4:1 </th>
                                <th> 3:1 </th>
                                <th> 2:1 </th>
                                <th> 1:1 </th>
          										</tr>
                              <tr>
           											<th> Number contagious </th>
            										<th id="number5"> {{number_contagious_day_5}}</th>
                                <th id="number4" style="background-color:cyan"> {{number_contagious_day_4}} </th>
                                <th id="number3"> {{number_contagious_day_3}} </th>
                                <th id="number2"> {{number_contagious_day_2}} </th>
                                <th id="number1"> {{number_contagious_day_1}} </th>
          										</tr>
                              <tr>
           											<th> Percent contagious </th>
            										<th id="fraction5"> {{fraction_contagious_day_5}}</th>
                                <th id="fraction4" style="background-color:cyan"> {{fraction_contagious_day_4}} </th>
                                <th id="fraction3"> {{fraction_contagious_day_3}} </th>
                                <th id="fraction2"> {{fraction_contagious_day_2}} </th>
                                <th id="fraction1"> {{fraction_contagious_day_1}} </th>
          										</tr>
        			    </table>
                  <br>
                  Under the 4:1 ratio, we assume there are 4 unknown cases for each known case.
                  Then it is estimated that there are currently <b><a id="number4_1"> {{number_contagious_day_4}} </a></b> contagious individuals spreading the virus, which constitutes <b><a id="fraction4_1"> {{fraction_contagious_day_4}} </a></b> of the <b>{{population_str}}</b> individuals in {{county_selected}}, {{state_selected}}. -->
              </div>
            
            <h4>Input Supply of <div class="popup"> COVID-19 Testing Kits <span class="popuptext"  style="font-size:11px">COVID-19 PCR Tests (Swab tests)</span></div></h4>
            <p><b>Select a hypothetical supply of testing kits per 1000 per day.</b></p>
    
            <div class="form-group col-3">
              {{ form.num_kits.label(class="form-control-label",onchange="testing_kits()") }}
              {% if form.num_kits.errors %}
                {{ form.num_kits(class="form-control form-control is-invalid") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
                <div class="invalid-feedback">
                  {% for error in form.num_kits.errors %}
                    <span>{{ error }}</span>
                  {% endfor %}
                </div>
              {% else %}
                {{ form.num_kits(class="form-control form-control",onchange="testing_kits()") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
              {% endif %}
            </div>
            <div>
              With <b><a id='num_kits2'> </a> </b>testing kits per thousand population per day, CC19LP will use a capacity of <b><a id='testing_kits'> </a></b> testing kits per day for key contacts in {{county_selected}}, {{state_selected}}.
            </div>
    
            <br>
            <h4>Input Supply of <div class="popup"> PPE <span class="popuptext"  style="font-size:11px">It is assumed that PPE, if worn properly, reduces transmission probability by 95%, but compliance with wearing PPE is assumed to be 75% for those living in crowding and 95% for others.</span></div></h4>
            
            <p><b>Select a hypothetical supply of high-level PPE per 1000 per day. To protect all {{key_contact_total}} key contact individuals in {{county_selected}}, {{state_selected}}, at least <a id="insert_mult"></a> PPE is needed per 1000 population per day.</b></p>
            <script>
                let x = {{percent_key_contact_total}};
                var mult = (x*10).toFixed(0);
                document.getElementById("insert_mult").innerHTML = mult;
            </script>
            <div class="form-group col-3">
              {{ form.num_masks.label(class="form-control-label") }}
              {% if form.num_masks.errors %}
                {{ form.num_masks(class="form-control form-control is-invalid",onchange="masks()") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
                <div class="invalid-feedback">
                  {% for error in form.num_masks.errors %}
                    <span>{{ error }}</span>
                  {% endfor %}
                </div>
              {% else %}
                {{ form.num_masks(class="form-control form-control",onchange="masks()") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
              {% endif %}
            </div>
            <br>
            <div>
              With <b><a id='num_masks2' onload="masks()">{{num_masks2}} </a> </b> people protected by PPE per thousand population per day, CC19LP will use a limit of <b><a id='masks_available'> </a> </b>
                key contacts that can be protected per day for {{county_selected}}, {{state_selected}}.
            </div>
            <br>
            <h4>Input Supply on <div class="popup"> COVID-19 Vaccines <span class="popuptext"  style="font-size:11px">Vaccines for adults are in development, but vaccines for children are not.  Information on vaccines will be updated as it becomes available.</span></div></h4>
            <p><b>Select a hypothetical supply of vaccines per 1000 per day.</b></p>
            <div class="form-group col-3">
              {{ form.num_vaccines.label(class="form-control-label",onchange="vaccines1()") }}
              {% if form.num_vaccines.errors %}
                {{ form.num_vaccines(class="form-control form-control is-invalid",onchange="vaccines1()") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
                <div class="invalid-feedback">
                  {% for error in form.num_vaccines.errors %}
                    <span>{{ error }}</span>
                  {% endfor %}
                </div>
              {% else %}
                {{ form.num_vaccines(class="form-control form-control",onchange="vaccines1()") }}
                <div class="border-top pt-1">
                  <small class="text-muted">
                      Select a value
                  </small>
                </div>
              {% endif %}
            </div>
            <br>
            <div>
              With <b><a id='num_vaccines21' onload="vaccines1()"> </a> </b> vaccines available per thousand population per day, CC19LP will use a capacity of  <b><a id='vaccines_available1'> </a> </b>
                vaccinations per day for key contacts in {{county_selected}}, {{state_selected}}.
            </div>
            <br>
            <!--<div class="form-group col-3">-->
            <!--  {{ form.l1_risk_key_adults_fraction.label(class="form-control-label") }}-->
            <!--  {% if form.l1_risk_key_adults_fraction.errors %}-->
            <!--    {{ form.l1_risk_key_adults_fraction(class="form-control form-control is-invalid") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--    <div class="invalid-feedback">-->
            <!--      {% for error in form.l1_risk_key_adults_fraction.errors %}-->
            <!--        <span>{{ error }}</span>-->
            <!--      {% endfor %}-->
            <!--    </div>-->
            <!--  {% else %}-->
            <!--    {{ form.l1_risk_key_adults_fraction(class="form-control form-control") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--  {% endif %}-->
            <!--</div>-->
            <!--<br>-->
            <!--<div class="form-group col-3">-->
            <!--  {{ form.h1_risk_key_adults_fraction.label(class="form-control-label") }}-->
            <!--  {% if form.h1_risk_key_adults_fraction.errors %}-->
            <!--    {{ form.h1_risk_key_adults_fraction(class="form-control form-control is-invalid") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--    <div class="invalid-feedback">-->
            <!--      {% for error in form.h1_risk_key_adults_fraction.errors %}-->
            <!--        <span>{{ error }}</span>-->
            <!--      {% endfor %}-->
            <!--    </div>-->
            <!--  {% else %}-->
            <!--    {{ form.h1_risk_key_adults_fraction(class="form-control form-control") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--  {% endif %}-->
            <!--</div>-->
            <!--<br>-->
            <!--<div class="form-group col-3">-->
            <!--  {{ form.h2_risk_key_adults_fraction.label(class="form-control-label") }}-->
            <!--  {% if form.h2_risk_key_adults_fraction.errors %}-->
            <!--    {{ form.h2_risk_key_adults_fraction(class="form-control form-control is-invalid") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--    <div class="invalid-feedback">-->
            <!--      {% for error in form.h2_risk_key_adults_fraction.errors %}-->
            <!--        <span>{{ error }}</span>-->
            <!--      {% endfor %}-->
            <!--    </div>-->
            <!--  {% else %}-->
            <!--    {{ form.h2_risk_key_adults_fraction(class="form-control form-control") }}-->
            <!--    <div class="border-top pt-1">-->
            <!--      <small class="text-muted">-->
            <!--          Select a value-->
            <!--      </small>-->
            <!--    </div>-->
            <!--  {% endif %}-->
            <!--</div>-->
            <!--<br>-->

          <br>
          <h4>User Target</h4>
          If a CC19LP solution can achieve an expected number of
            <b> <a>{{avg_daily_fatalities}}</a> </b> fatalities per day for a reasonable level of normalcy, then reopening is estimated to be achievable
              with the optimized <div class="popup"> COVID-19 interventions <span class="popuptext" style="font-size:13px"> <ul><li>COVID-19 PCR Tests (Swab tests)</li>
              <li>Personal Protective Equipment (PPE) </li>
              <li>Recognized Social Precautions</li>
              <li>COVID-19 Vaccines</li>
            </ul> </span></div> by key contact
              type without increasing the average daily fatality rate.
              If a CC19LP solution cannot achieve an expected number of <b> <a>{{avg_daily_fatalities}}</a> </b>
                fatalities per day, then an increased supply of COVID-19 interventions is
                needed.

          <br>
          <br>
          <div>
            <a href="javascript:history.back()" ><button type="button" class="btn btn-primary">Back</button> </a>
            <button type="submit" id="btnFetch" class="btn btn-primary">Submit and Proceed to Step 4</button>
            <script type="text/javascript">
                  function spinner_function(){
                    btnFetch.innerHTML = "Running CC19LP..."+`<span class="spinner-border spinner-border-sm" role="status" id='spinner' aria-hidden="true"></span>`;
                    // spinner.classList.remove("d-none");
                    // btnFetch.innerHTML = "Loading...";
                    // alert("Submit button clicked!");
                    return true;

                  }
                // spinner_function()
            </script>
            <br>
            <br>
          </div>
        </form>


      </div>

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cc19lp-cosmos.uta.edu/20200518/static/js/bootstrap.min.js"></script>
    <script type="text/javascript">

      let num_cases_date_element = document.getElementById('num_cases_3_weeks_date');
      var num_cases_date = (num_cases_date_element.value);

      function dates_num_cases(){

        // alert(start_date.value);

        var num_cases_date2=num_cases_date;
      }


    </script>
    
    <script type="text/javascript">
        let fatalites = document.getElementById('num_fatalities_7');
        let daily_fatalities_1 = document.getElementById('num_fatalities_daily');
        let num_days_1 = document.getElementById('num_days');

        function daily_fatalities(){

          var fatalities_7 = parseFloat(fatalites.value);
          var num_days = parseFloat(num_days_1.value);
          var daily_fatalities = parseFloat(fatalities_7/num_days).toFixed(4);
          // daily_fatalities_1.innerHTML = daily_fatalities;
          document.getElementById('daily_fat').innerHTML=daily_fatalities;
          document.getElementById('daily_fat2').innerHTML=daily_fatalities;
          document.getElementById('daily_fat3').innerHTML=daily_fatalities;
        }
      daily_fatalities()

    </script>

    <script type="text/javascript">
        let fraction_positive_comply_quarantine_1 = {{fraction_positive_comply_quarantine}};
        let population_1 = {{population}};
        let fraction_unknown_cases_1 = {{fraction_unknown_cases}};
        let num_cases_3_weeks_1 = document.getElementById('cases_from_api');
        let start_date = document.getElementById('date_field_cases_start');
        let end_date = document.getElementById('date_field_cases_end');

        function fraction_contagious(){
            
            // alert(start_date.value);

          if (start_date.value>end_date.value){
            alert('Start Date is after End Date');
          }
          var start_date2=start_date.value;
          var end_date2=end_date.value;
          // alert(start_date2);

          var fraction_positive_comply_quarantine = parseFloat(fraction_positive_comply_quarantine_1);
          var population = parseFloat(population_1);
          var fraction_unknown_cases = parseFloat(fraction_unknown_cases_1);
          var num_cases_3_weeks = parseFloat(num_cases_3_weeks_1.value);

          var ratio_unknown_known_1 = parseFloat(1);
          var number_contagious_day_1 = parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_1)).toFixed(0);
          var nfObject1 = new Intl.NumberFormat('en-US'); 
          var  number_contagious_day_1_format = nfObject1.format(number_contagious_day_1); 
          var fraction_contagious_day_1 = (parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_1)/parseFloat(population)).toFixed(4)*100).toFixed(4);

          var ratio_unknown_known_2 = parseFloat(2);
          var number_contagious_day_2 = parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_2)).toFixed(0);
          var nfObject2 = new Intl.NumberFormat('en-US'); 
          var  number_contagious_day_2_format = nfObject2.format(number_contagious_day_2);
          var fraction_contagious_day_2 = (parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_2)/parseFloat(population)).toFixed(4)*100).toFixed(4);

          var ratio_unknown_known_3 = parseFloat(3);
          var number_contagious_day_3 = parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_3)).toFixed(0);
          var nfObject3 = new Intl.NumberFormat('en-US'); 
          var  number_contagious_day_3_format = nfObject3.format(number_contagious_day_3);
          var fraction_contagious_day_3 = (parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_3)/parseFloat(population)).toFixed(4)*100).toFixed(4);

          var ratio_unknown_known_4 = parseFloat(4);
          var number_contagious_day_4 = parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_4)).toFixed(0);
          var nfObject4 = new Intl.NumberFormat('en-US'); 
          var  number_contagious_day_4_format = nfObject4.format(number_contagious_day_4);
          var fraction_contagious_day_4 = (parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_4)/parseFloat(population)).toFixed(4)*100).toFixed(4);

          var ratio_unknown_known_5 = parseFloat(5);
          var number_contagious_day_5 = parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_5)).toFixed(0);
          var nfObject5 = new Intl.NumberFormat('en-US'); 
          var  number_contagious_day_5_format = nfObject5.format(number_contagious_day_5);
          var fraction_contagious_day_5 = (parseFloat((num_cases_3_weeks)*((1-(fraction_positive_comply_quarantine))+ratio_unknown_known_5)/parseFloat(population)).toFixed(4)*100).toFixed(4);
          // alert(fraction_contagious_day)
          // var daily_fatalities = parseFloat(fatalities_7/31).toFixed(4);
          // // daily_fatalities_1.innerHTML = daily_fatalities;
          document.getElementById('number1').innerHTML=number_contagious_day_1;
          document.getElementById('number2').innerHTML=number_contagious_day_2;
          document.getElementById('number3').innerHTML=number_contagious_day_3;
          document.getElementById('number4').innerHTML=number_contagious_day_4;
          document.getElementById('number5').innerHTML=number_contagious_day_5;

          document.getElementById('fraction5').innerHTML=fraction_contagious_day_5 + "%";
          document.getElementById('fraction4').innerHTML=fraction_contagious_day_4+ "%";
          document.getElementById('fraction3').innerHTML=fraction_contagious_day_3+ "%";
          document.getElementById('fraction2').innerHTML=fraction_contagious_day_2+ "%";
          document.getElementById('fraction1').innerHTML=fraction_contagious_day_1+ "%";

          document.getElementById('fraction4_1').innerHTML=fraction_contagious_day_4+ "%";
          document.getElementById('number4_1').innerHTML=number_contagious_day_4_format;
          // document.getElementById('daily_fat2').innerHTML=daily_fatalities;
        }
      fraction_contagious()
    </script>

    <script type="text/javascript">
        let num_kits1 = document.getElementById('num_kits');
        let population1 = {{population}};

        function testing_kits(){

          var num_kits2 = parseFloat(num_kits1.value);
          var testing_kits = Math.round(population1*num_kits2/1000);
          // alert(population1)

          // daily_fatalities_1.innerHTML = daily_fatalities;
          document.getElementById('num_kits2').innerHTML=num_kits2;
          document.getElementById('testing_kits').innerHTML=testing_kits;
        }
      testing_kits()

    </script>

    <script type="text/javascript">
        let num_masks1 = document.getElementById('num_masks');
        let population2 = {{population}};

        function masks(){

          var num_masks2 = parseFloat(num_masks1.value);
          var masks_available = Math.round(population2*num_masks2/1000);

          // daily_fatalities_1.innerHTML = daily_fatalities;
          document.getElementById('num_masks2').innerHTML=num_masks2;
          document.getElementById('masks_available').innerHTML=masks_available;
        }
      masks()

    </script>
    
    <script type="text/javascript">
        let num_vaccines11 = document.getElementById('num_vaccines');
        let population21 = {{population}};

        function vaccines1(){

          var num_vaccines21 = parseFloat(num_vaccines11.value);
          var vaccines_available1 = Math.round(population21*num_vaccines21/1000);
          
        //   alert(population2);

          // daily_fatalities_1.innerHTML = daily_fatalities;
          document.getElementById('num_vaccines21').innerHTML=num_vaccines21;
          document.getElementById('vaccines_available1').innerHTML=vaccines_available1;
        }
      vaccines1()

    </script>

  </div> <!-- /.container-->



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
